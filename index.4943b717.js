var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,i.call(a.exports,a,a.exports),a.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);var a=i("ezyJp");const d=document.querySelector(".main-section__allcards"),l=document.querySelector(".modal"),o=document.querySelector(".overflow"),s=document.querySelector(".modal__close-btn"),r=document.querySelector(".modal__main"),c=[],m=[];function u(){const e=localStorage.getItem("currentFilmList");return JSON.parse(e)}function _(e){const t=u()[e.target.dataset.id];m.find((e=>e===t))?alert("Film already in the watched list!"):(m.push(t),localStorage.setItem("watched",JSON.stringify(m)))}function v(e){const t=u()[e.target.dataset.id];c.find((e=>e===t))?alert("Film already in the queue!"):(c.push(t),localStorage.setItem("queue",JSON.stringify(c)))}function f(e){if(e.currentTarget!==e.target){l.classList.remove("visually-hidden"),o.classList.remove("visually-hidden"),d.removeEventListener("click",f),document.addEventListener("keydown",g),s.addEventListener("click",y),o.addEventListener("click",p);!async function(e){const t=u(),{poster_path:n,original_title:i,title:d,genre_ids:l,vote_average:o,vote_count:s,popularity:c,overview:m}=t[e],f=await(0,a.getGenres)(),p=[];l.forEach((e=>{p.push(f.find((t=>t.id===e)).name)}));const g=`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${n}" alt="${d}" />\n    </div>\n    <div class="modal__about">\n      <div class="modal__headline">${d}</div>\n      <ul class="modal__list">\n        <li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${o.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${s}</span>\n          </div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${c}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${i}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${p.join(", ")}</div>\n        </li>\n      </ul>\n      <div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${m}\n        </p>\n      </div>\n          <div class="modal__buttons">\n      <button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>\n      <button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>\n    </div>\n    </div>\n\n    `;r.innerHTML=g;const y=document.querySelector(".modal__btn-watched");document.querySelector(".modal__btn-queue").addEventListener("click",v),y.addEventListener("click",_)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id)}}function p(e){e.currentTarget===e.target&&y()}function g(e){"Escape"===e.code&&y()}function y(){l.classList.add("visually-hidden"),o.classList.add("visually-hidden"),d.addEventListener("click",f),document.removeEventListener("keydown",y),s.removeEventListener("click",y),o.removeEventListener("click",p)}d.addEventListener("click",f);
//# sourceMappingURL=index.4943b717.js.map
