const e=document.querySelector(".main-section__allcards"),t=document.querySelector(".modal"),n=document.querySelector(".overflow"),a=document.querySelector(".modal__close-btn"),i=document.querySelector(".modal__main"),d=[],l=[];function s(){const e=localStorage.getItem("currentFilmList");return JSON.parse(e)}function o(e){const t=s()[e.target.dataset.id];l.find((e=>e.id===t.id))?alert("Film already in the watched list!"):(l.push(t),localStorage.setItem("watched",JSON.stringify(l)))}function c(e){const t=s()[e.target.dataset.id];d.find((e=>e.id===t.id))?alert("Film already in the queue!"):(d.push(t),localStorage.setItem("queue",JSON.stringify(d)))}function r(d){if(d.currentTarget!==d.target){t.classList.remove("visually-hidden"),n.classList.remove("visually-hidden"),e.removeEventListener("click",r),document.addEventListener("keydown",_),a.addEventListener("click",u),n.addEventListener("click",m);!async function(e){const t=s(),{poster_path:n,original_title:a,title:d,genre_ids:l,vote_average:r,vote_count:m,popularity:_,overview:u}=t[e],v=JSON.parse(localStorage.getItem("allGenres")),g=[];l.forEach((e=>{g.push(v.find((t=>t.id===e)).name)}));const p=`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${n}" alt="${d}" />\n    </div>\n    <div class="modal__about">\n      <div class="modal__headline">${d}</div>\n      <ul class="modal__list">\n        <li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${r.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${m}</span>\n          </div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${_}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${a}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${g.join(", ")}</div>\n        </li>\n      </ul>\n      <div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${u}\n        </p>\n      </div>\n          <div class="modal__buttons">\n      <button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>\n      <button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>\n    </div>\n    </div>\n\n    `;i.innerHTML=p;const f=document.querySelector(".modal__btn-watched");document.querySelector(".modal__btn-queue").addEventListener("click",c),f.addEventListener("click",o)}(d.target.parentElement.dataset.id?d.target.parentElement.dataset.id:d.target.parentElement.parentElement.dataset.id)}}function m(e){e.currentTarget===e.target&&u()}function _(e){"Escape"===e.code&&u()}function u(){t.classList.add("visually-hidden"),n.classList.add("visually-hidden"),e.addEventListener("click",r),document.removeEventListener("keydown",u),a.removeEventListener("click",u),n.removeEventListener("click",m)}e.addEventListener("click",r);
//# sourceMappingURL=index.e21ac898.js.map
