function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("krGWQ");var d=i("eWCmQ"),o=i("5o68A");const r=document.querySelector(".watchedJS"),c=document.querySelector(".queueJS"),s=document.querySelector(".main-section__allcards");function l(){s.innerHTML="",r.classList.add("active"),c.classList.remove("active"),localStorage.getItem("watched")?m("watched"):e(d).Notify.warning("No movies added!")}function u(){s.innerHTML="",c.classList.add("active"),r.classList.remove("active"),localStorage.getItem("queue")?m("queue"):e(d).Notify.warning("No movies added!")}function m(t){let a=JSON.parse(localStorage.getItem(t));if(!a)return void e(d).Notify.warning("No movies added!");const n=(0,o.renderSearchResult)(a);s.innerHTML=n.join("");document.querySelectorAll(".main-section__card").forEach((e=>{"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",`<span class="rating-span">${Math.round(10*e.dataset.rating)/10}<span>`)}))}m("watched"),r.classList.remove("inactive"),r.classList.add("active"),r.addEventListener("click",l),c.addEventListener("click",u);var v=i("37v9V"),_=i("krGWQ");const{allCardsSection:g,modal:f,overflow:L,closeBtn:h,innerModal:p,watchedBtn:E,queueBtn:b,cursor:w}=_.refs,S=localStorage.getItem("queue"),k=localStorage.getItem("watched");let q=JSON.parse(S)||[],y=JSON.parse(k)||[],$=T("watched"),N=!1;function T(e){const t=localStorage.getItem(e);return JSON.parse(t)}function O(e){e.target.innerText="remove from watched";const t=$[e.target.dataset.id];y.push(t),localStorage.setItem("watched",JSON.stringify(y)),e.target.addEventListener("click",I),e.target.removeEventListener("click",O),N=!0}function I(e){e.target.innerText="add to watched";const t=$[e.target.dataset.id];y=y.filter((e=>e.id!==t.id)),localStorage.setItem("watched",JSON.stringify(y)),e.target.removeEventListener("click",I),e.target.addEventListener("click",O),N=!0}function x(e){e.target.innerText="remove from queue";const t=$[e.target.dataset.id];q.push(t),localStorage.setItem("queue",JSON.stringify(q)),e.target.addEventListener("click",J),e.target.removeEventListener("click",x),N=!0}function J(e){e.target.innerText="add to queue";const t=$[e.target.dataset.id];q=q.filter((e=>e.id!==t.id)),localStorage.setItem("queue",JSON.stringify(q)),e.target.removeEventListener("click",J),e.target.addEventListener("click",x),N=!0}function M(e){if(e.currentTarget!==e.target){f.classList.remove("hidden-modal"),L.classList.remove("hidden-modal"),g.removeEventListener("click",M),document.addEventListener("keydown",W),h.addEventListener("click",A),L.addEventListener("click",H);!function(e){const{poster_path:t,original_title:a,title:n,genre_ids:i,vote_average:d,vote_count:o,popularity:r,overview:c,id:s}=$[e],l=JSON.parse(localStorage.getItem("allGenres")),u=[];i.forEach((e=>{u.push(l.find((t=>t.id===e)).name)}));const m=y.find((e=>e.id===s)),_=!!q.find((e=>e.id===s)),g=!!m,f=_?`<button class="modal__btn-queue interactive-button" data-id=${e}>remove from queue</button>`:`<button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>`,L=g?`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        remove from Watched\n      </button>`:`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>`,E=o&&d?`<li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${d.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${o}</span>\n          </div>\n        </li>`:"",b=r?`<li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${r}</div>\n        </li>`:"",S=u.length?`<li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${u.join(", ")}</div>\n        </li>`:"",k=`${t?`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${n}" />\n    </div>`:""}\n    <div class="modal__about">\n      <div class="modal__headline">${n}</div>\n      <ul class="modal__list">\n        ${E}\n        ${b}\n        ${a?`<li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${a}</div>\n        </li>`:""}\n        ${S}\n      </ul> \n      ${c?`<div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${c}\n        </p>\n      </div>`:""}\n          <div class="modal__buttons">\n      ${L}\n      ${f}\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=${s}>watch trailer</button>\n    </div>\n    </div>\n    `;p.innerHTML=k,function(e,t){const a=document.querySelector(".modal__btn-watched"),n=document.querySelector(".modal__btn-queue"),i=document.querySelector(".modal_btn-watch-trailer");e?n.addEventListener("click",J):n.addEventListener("click",x),t?a.addEventListener("click",I):a.addEventListener("click",O),i.addEventListener("click",v.watchTrailer),[i,n,i,h].forEach((e=>{e.addEventListener("mouseover",(()=>{w.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{w.classList.remove("hover")}))}))}(_,g)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id)}}function H(e){e.currentTarget===e.target&&A()}function W(e){"Escape"===e.code&&A()}function A(){f.classList.add("hidden-modal"),L.classList.add("hidden-modal"),g.addEventListener("click",M),document.removeEventListener("keydown",A),h.removeEventListener("click",A),L.removeEventListener("click",H),b.classList.contains("active")&&N?u():N&&l(),N=!1}E.addEventListener("click",(()=>{$=T("watched")})),b.addEventListener("click",(()=>{$=T("queue")})),g.addEventListener("click",M),i("kBf9a"),i("7tI6e");
//# sourceMappingURL=library.08e38585.js.map
