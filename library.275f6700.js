function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i("krGWQ");var d=i("eWCmQ"),o=i("5o68A");const r=document.querySelector(".watchedJS"),l=document.querySelector(".queueJS"),c=document.querySelector(".main-section__allcards");function s(){c.innerHTML="",r.classList.add("active"),l.classList.remove("active"),localStorage.getItem("watched")?m("watched"):e(d).Notify.warning("No movies added!")}function u(){c.innerHTML="",l.classList.add("active"),r.classList.remove("active"),localStorage.getItem("queue")?m("queue"):e(d).Notify.warning("No movies added!")}function m(t){let n=JSON.parse(localStorage.getItem(t));if(!n)return void e(d).Notify.warning("No movies added!");const a=(0,o.renderSearchResult)(n);c.innerHTML=a.join("");document.querySelectorAll(".main-section__card").forEach((e=>{"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",`<span class="rating-span">${Math.round(10*e.dataset.rating)/10}<span>`)}))}m("watched"),r.classList.remove("inactive"),r.classList.add("active"),r.addEventListener("click",s),l.addEventListener("click",u);var v=i("37v9V"),_=i("krGWQ");const{allCardsSection:g,modal:f,overflow:L,closeBtn:h,innerModal:p,watchedBtn:b,queueBtn:E}=_.refs,w=localStorage.getItem("queue"),S=localStorage.getItem("watched");let k=JSON.parse(w)||[],y=JSON.parse(S)||[],q=N("watched"),$=!1;function N(e){const t=localStorage.getItem(e);return JSON.parse(t)}function T(e){e.target.innerText="remove from watched";const t=q[e.target.dataset.id];y.push(t),localStorage.setItem("watched",JSON.stringify(y)),e.target.addEventListener("click",O),e.target.removeEventListener("click",T),$=!0}function O(e){e.target.innerText="add to watched";const t=q[e.target.dataset.id];y=y.filter((e=>e.id!==t.id)),localStorage.setItem("watched",JSON.stringify(y)),e.target.removeEventListener("click",O),e.target.addEventListener("click",T),$=!0}function x(e){e.target.innerText="remove from queue";const t=q[e.target.dataset.id];k.push(t),localStorage.setItem("queue",JSON.stringify(k)),e.target.addEventListener("click",I),e.target.removeEventListener("click",x),$=!0}function I(e){e.target.innerText="add to queue";const t=q[e.target.dataset.id];k=k.filter((e=>e.id!==t.id)),localStorage.setItem("queue",JSON.stringify(k)),e.target.removeEventListener("click",I),e.target.addEventListener("click",x),$=!0}function J(e){if(e.currentTarget!==e.target){f.classList.remove("visually-hidden"),L.classList.remove("visually-hidden"),g.removeEventListener("click",J),document.addEventListener("keydown",H),h.addEventListener("click",W),L.addEventListener("click",M);!function(e){const{poster_path:t,original_title:n,title:a,genre_ids:i,vote_average:d,vote_count:o,popularity:r,overview:l,id:c}=q[e],s=JSON.parse(localStorage.getItem("allGenres")),u=[];i.forEach((e=>{u.push(s.find((t=>t.id===e)).name)}));const m=y.find((e=>e.id===c)),_=!!k.find((e=>e.id===c)),g=!!m,f=_?`<button class="modal__btn-queue interactive-button" data-id=${e}>remove from queue</button>`:`<button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>`,L=g?`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        remove from Watched\n      </button>`:`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>`,h=o&&d?`<li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${d.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${o}</span>\n          </div>\n        </li>`:"",b=r?`<li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${r}</div>\n        </li>`:"",E=u.length?`<li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${u.join(", ")}</div>\n        </li>`:"",w=`${t?`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${a}" />\n    </div>`:""}\n    <div class="modal__about">\n      <div class="modal__headline">${a}</div>\n      <ul class="modal__list">\n        ${h}\n        ${b}\n        ${n?`<li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${n}</div>\n        </li>`:""}\n        ${E}\n      </ul> \n      ${l?`<div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${l}\n        </p>\n      </div>`:""}\n          <div class="modal__buttons">\n      ${L}\n      ${f}\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=${c}>watch trailer</button>\n    </div>\n    </div>\n    `;p.innerHTML=w,function(e,t){const n=document.querySelector(".modal__btn-watched"),a=document.querySelector(".modal__btn-queue"),i=document.querySelector(".modal_btn-watch-trailer");e?a.addEventListener("click",I):a.addEventListener("click",x),t?n.addEventListener("click",O):n.addEventListener("click",T),i.addEventListener("click",v.watchTrailer)}(_,g)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id)}}function M(e){e.currentTarget===e.target&&W()}function H(e){"Escape"===e.code&&W()}function W(){f.classList.add("visually-hidden"),L.classList.add("visually-hidden"),g.addEventListener("click",J),document.removeEventListener("keydown",W),h.removeEventListener("click",W),L.removeEventListener("click",M),E.classList.contains("active")&&$?u():$&&s(),$=!1}b.addEventListener("click",(()=>{q=N("watched")})),E.addEventListener("click",(()=>{q=N("queue")})),g.addEventListener("click",J);
//# sourceMappingURL=library.275f6700.js.map
