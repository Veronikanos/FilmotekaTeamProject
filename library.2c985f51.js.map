{"mappings":"iiBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAEME,EAAgBC,SAASC,cAAc,cACvCC,EAAeF,SAASC,cAAc,YAEtCE,EAAoBH,SAASC,cAAc,2BAG3CG,EAAY,UACZC,EAAY,QA8BlB,SAASC,EAAWC,GAClB,IAAIC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQL,IACnD,GAAKC,EAAL,CAIA,IAAMK,GAAS,EAAAC,EAAAC,oBAAmBP,GAClCL,EAAkBa,UAAYH,EAAOI,KAAK,IAE5BjB,SAASkB,iBAAiB,uBAClCC,SAAQ,SAAAC,GACa,MAArBA,EAAEC,QAAQC,QACZF,EAAEG,iBAAiBC,mBACjB,YACA,6BAECC,OADCC,KAAKC,MAAyB,GAAnBP,EAAEC,QAAQC,QAAe,GACrC,U,SAbLM,EAAA9B,GAAS+B,OAAOC,QAAQ,mB,CAoB1BxB,EAAWF,GACXL,EAAcgC,UAAUC,OAAO,YAC/BjC,EAAcgC,UAAUE,IAAI,UAK9BlC,EAAcmC,iBAAiB,SA1D/B,SAAuBC,GACrBA,EAAMC,iBAENjC,EAAkBa,UAAY,GAC9BmB,EAAME,OAAON,UAAUE,IAAI,UAC3B/B,EAAa6B,UAAUC,OAAO,UAEzBrB,aAAaC,QAAQR,GAI1BE,EAAWF,GAHTwB,EAAA9B,GAAS+B,OAAOC,QAAQ,mB,IAmD5B5B,EAAagC,iBAAiB,SA7C9B,SAAqBC,GACnBA,EAAMC,iBACNjC,EAAkBa,UAAY,GAC9BmB,EAAME,OAAON,UAAUE,IAAI,UAC3BlC,EAAcgC,UAAUC,OAAO,UAE1BrB,aAAaC,QAAQP,GAK1BC,EAAWD,GAJTuB,EAAA9B,GAAS+B,OAAOC,QAAQ,mB","sources":["src/library.js","src/js/library-page-only/filter.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nimport './js/library-page-only/filter';\n","import Notiflix from 'notiflix';\n\nconst watchedButRef = document.querySelector('.watchedJS');\nconst queuedButRef = document.querySelector('.queueJS');\n\nconst cardsRenderDivRef = document.querySelector('.main-section__allcards');\nimport { renderSearchResult } from '../render-markup';\n\nconst DATA_KEY1 = 'watched';\nconst DATA_KEY2 = 'queue';\n\nfunction renderWatched(event) {\n  event.preventDefault();\n\n  cardsRenderDivRef.innerHTML = '';\n  event.target.classList.add('active');\n  queuedButRef.classList.remove('active');\n\n  if (!localStorage.getItem(DATA_KEY1)) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n  renderData(DATA_KEY1);\n}\n\nfunction renderQueue(event) {\n  event.preventDefault();\n  cardsRenderDivRef.innerHTML = '';\n  event.target.classList.add('active');\n  watchedButRef.classList.remove('active');\n\n  if (!localStorage.getItem(DATA_KEY2)) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n\n  renderData(DATA_KEY2);\n}\n\nfunction renderData(DATA_KEY) {\n  let dataToRender = JSON.parse(localStorage.getItem(DATA_KEY));\n  if (!dataToRender) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n  const markup = renderSearchResult(dataToRender);\n  cardsRenderDivRef.innerHTML = markup.join('');\n\n  const cards = document.querySelectorAll('.main-section__card');\n  cards.forEach(e => {\n    if (e.dataset.rating !== '0') {\n      e.lastElementChild.insertAdjacentHTML(\n        'beforeend',\n        `<span class=\"rating-span\">${\n          Math.round(e.dataset.rating * 10) / 10\n        }<span>`\n      );\n    }\n  });\n}\n\nfunction renderDataDefault() {\n  renderData(DATA_KEY1);\n  watchedButRef.classList.remove('inactive');\n  watchedButRef.classList.add('active');\n}\n\nrenderDataDefault();\n\nwatchedButRef.addEventListener('click', renderWatched);\nqueuedButRef.addEventListener('click', renderQueue);\n"],"names":["parcelRequire","$iU1Pc","$ac6ae25c154de267$var$watchedButRef","document","querySelector","$ac6ae25c154de267$var$queuedButRef","$ac6ae25c154de267$var$cardsRenderDivRef","$ac6ae25c154de267$var$DATA_KEY1","$ac6ae25c154de267$var$DATA_KEY2","$ac6ae25c154de267$var$renderData","DATA_KEY","dataToRender","JSON","parse","localStorage","getItem","markup","$7VSht","renderSearchResult","innerHTML","join","querySelectorAll","forEach","e","dataset","rating","lastElementChild","insertAdjacentHTML","concat","Math","round","$parcel$interopDefault","Notify","warning","classList","remove","add","addEventListener","event","preventDefault","target"],"version":3,"file":"library.2c985f51.js.map"}