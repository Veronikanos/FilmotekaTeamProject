{"mappings":"AAAO,SAASA,EAAmBC,GACjCC,QAAQC,IAAIF,GAuBZ,OAtBkBA,EAAOG,KACvB,EAACC,YAAEA,EAAWC,aAAEA,EAAYC,eAAEA,EAAcC,MAAEA,EAAKC,UAAEA,GAAaC,KAChE,IAAIC,OAAEA,EAAMC,YAAEA,GAuBpB,SAA+BP,EAAaQ,GAC1C,IACID,EADAD,EAAS,kCAAkCN,IAG1CA,IACHM,EAAS,qNAKTC,EAHGC,EAGWC,SAASD,GAFT,kBAIhB,MAAO,C,OAAEF,E,YAAQC,E,CAnCiBG,CAC5BV,EACAC,GAGF,MAAO,uCAAuCI,eAAiBA,6CAEhDC,0BACAH,GAASD,GAAkB,qJAKzCC,GAASD,GAAkB,gEAyBlC,SAAoBS,GAClB,MAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,cAC/C,IAAIC,EAAM,GACV,IAAK,MAAMC,KAAQP,EAAK,CACtB,IAAIQ,EAAIP,EAAOQ,MAAKC,GAASA,EAAMC,KAAOC,OAAOL,KACjDD,EAAIO,KAAKL,EAAEM,K,CAIb,OADER,EAAIS,OAAS,EAAI,GAAGT,EAAI,OAAOA,EAAI,YAAcA,EAAIU,KAAK,K,CAhCfC,CAAWxB,IAAc,2BAC/DG,wCAEM,G,CCrBf,MAAMsB,EAAgBC,SAASC,cAAc,cACvCC,EAAeF,SAASC,cAAc,YAEtCE,EAAoBH,SAASC,cAAc,2BAejD,SAASG,EAAWC,GAElB,MAAMC,EAASzC,EADIkB,KAAKC,MAAMC,aAAaC,QAAQmB,KAEnDF,EAAkBI,UAAYD,EAAOT,KAAK,G,CAG5CE,EAAcS,iBAAiB,SAf/B,SAAuBC,GACrBA,EAAMC,iBACNN,EALgB,U,IAmBlBF,EAAaM,iBAAiB,SAZ9B,SAAqBC,GACnBA,EAAMC,iBACNN,EARgB,Q","sources":["src/js/render-markup.js","src/js/library-page-only/filter.js"],"sourcesContent":["export function renderSearchResult(movies) {\n  console.log(movies);\n  const allMovies = movies.map(\n    ({ poster_path, release_date, original_title, title, genre_ids }, idx) => {\n      let { poster, releaseYear } = checkDataBeforeRender(\n        poster_path,\n        release_date\n      );\n\n      return `<div class=\"main-section__card\" id=\"${idx}\" data-id=\"${idx}\">\n            <img\n              src=\"${poster}\"\n              alt=\"${title || original_title || ''}\"\n              class=\"main-section__image\"\n              loading=\"lazy\"\n            />\n          <p class=\"main-section__name\">\n\t\t\t\t\t${title || original_title || ''} <br />\n\t\t\t\t\t<span class=\"main-section__description\">${findGenres(genre_ids) || 'No Genre'}\n\t\t\t\t\t| ${releaseYear}</span>\n\t\t\t\t</p>\n        </div>`;\n    }\n  );\n  return allMovies;\n}\n\nfunction checkDataBeforeRender(poster_path, releaseDate) {\n  let poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n  let releaseYear;\n\n  if (!poster_path) {\n    poster = `https://media.istockphoto.com/id/1193046540/vector/photo-coming-soon-image-icon-vector-illustration-isolated-on-white-background-no-website.jpg?s=612x612&w=0&k=20&c=4wx1UzigP0g9vJv9D_DmOxdAT_DtX5peZdoS4hi2Fqg=`;\n  }\n  if (!releaseDate) {\n    releaseYear = 'No release year';\n  } else {\n    releaseYear = parseInt(releaseDate);\n  }\n  return { poster, releaseYear };\n}\n\nfunction findGenres(ids) {\n  const genres = JSON.parse(localStorage.getItem('allGenres'));\n  let res = [];\n  for (const item of ids) {\n    let h = genres.find(genre => genre.id === Number(item));\n    res.push(h.name);\n  }\n  const formattedGenres =\n    res.length > 2 ? `${res[0]}, ${res[1]}, Other` : res.join(', ');\n  return formattedGenres;\n}\n","const watchedButRef = document.querySelector('.watchedJS');\nconst queuedButRef = document.querySelector('.queueJS');\n\nconst cardsRenderDivRef = document.querySelector('.main-section__allcards');\nimport { renderSearchResult } from '../render-markup';\n\nconst DATA_KEY1 = 'watched';\nconst DATA_KEY2 = 'queue';\n\nfunction renderWatched(event) {\n  event.preventDefault();\n  renderData(DATA_KEY1);\n}\nfunction renderQueue(event) {\n  event.preventDefault();\n  renderData(DATA_KEY2);\n}\n\nfunction renderData(DATA_KEY) {\n  let dataToRender = JSON.parse(localStorage.getItem(DATA_KEY));\n  const markup = renderSearchResult(dataToRender);\n  cardsRenderDivRef.innerHTML = markup.join('');\n}\n\nwatchedButRef.addEventListener('click', renderWatched);\nqueuedButRef.addEventListener('click', renderQueue);\n"],"names":["$3ec3f46fa3e1f397$export$3e23689f3f9b8139","movies","console","log","map","poster_path","release_date","original_title","title","genre_ids","idx","poster","releaseYear","releaseDate","parseInt","$3ec3f46fa3e1f397$var$checkDataBeforeRender","ids","genres","JSON","parse","localStorage","getItem","res","item","h","find","genre","id","Number","push","name","length","join","$3ec3f46fa3e1f397$var$findGenres","$5dc6e7081f81b110$var$watchedButRef","document","querySelector","$5dc6e7081f81b110$var$queuedButRef","$5dc6e7081f81b110$var$cardsRenderDivRef","$5dc6e7081f81b110$var$renderData","DATA_KEY","markup","innerHTML","addEventListener","event","preventDefault"],"version":3,"file":"library.50188b51.js.map"}