{"mappings":"YAAO,SAASA,EAAmBC,GAwBjC,OAvBAC,QAAQC,IAAIF,GACMA,EAAOG,KACvB,SAAAC,EAAkEC,G,IAA/DC,EAAWF,EAAXE,YAAaC,EAAYH,EAAZG,aAAcC,EAAcJ,EAAdI,eAAgBC,EAAKL,EAALK,MAAOC,EAASN,EAATM,UACrBC,EAuBpC,SAA+BL,EAAaM,GAC1C,IACIC,EADAC,EAAS,kCAA8CC,OAAZT,GAG1CA,IACHQ,EAAU,qNAKVD,EAHGD,EAGWI,SAASJ,GAFT,kBAIhB,MAAO,CAAEE,SAAQD,c,CAnCiBI,CAC5BX,EACAC,GAFIO,EAAwBH,EAAxBG,OAAQD,EAAgBF,EAAhBE,YAKd,MAAO,uCAAwDE,OAAjBV,EAAI,eAEnCU,OAFgDV,EAAI,6CAGpDU,OADAD,EAAO,0BAMrBC,OALcN,GAASD,GAAkB,GAAG,oJAMJO,OADxCN,GAASD,GAAkB,GAAG,+DAE5BO,OAuBT,SAAoBG,GAClB,IAAMC,EAASC,KAAKC,MAAMC,aAAaC,QAAQ,cAC3CC,EAAM,GACLC,GAAU,EAAVC,GAAU,EAAVC,OAAUC,E,IAAf,I,IAAKC,E,gBAAA,IAAMC,EAANC,EAAUC,MACTC,EAAId,EAAOe,MAAK,SAAAC,G,OAASA,EAAMC,KAAOC,OAAOP,E,IACjDN,EAAIc,KAAKL,EAAEM,K,EAFRC,EAActB,EAAGuB,OAAAC,cAAjBjB,GAAAI,EAAAW,EAAUG,QAAAC,MAAVnB,GAAU,EAAAoB,EAAAL,EAAAX,E,UAAVH,GAAU,EAAVC,EAAUmB,C,aAAVrB,GAAU,MAAVe,EAAUO,QAAVP,EAAUO,Q,YAAVrB,E,MAAAC,C,EAML,OADEH,EAAIwB,OAAS,EAAI,GAAcjC,OAAXS,EAAI,GAAG,MAAWT,OAAPS,EAAI,GAAG,WAAWA,EAAIyB,KAAK,K,CAhCfC,CAAWxC,IAAc,WAAW,kBAC9DK,OAAZF,EAAY,wC,ICnBrB,IAAMsC,EAAgBC,SAASC,cAAc,cACvCC,EAAeF,SAASC,cAAc,YAEtCE,EAAoBH,SAASC,cAAc,2BAejD,SAASG,EAAWC,GAClB,IACMC,EAAS3D,EADIqB,KAAKC,MAAMC,aAAaC,QAAQkC,KAEnDF,EAAkBI,UAAYD,EAAOT,KAAK,G,CAG5CE,EAAcS,iBAAiB,SAf/B,SAAuBC,GACrBA,EAAMC,iBACNN,EALgB,U,IAmBlBF,EAAaM,iBAAiB,SAZ9B,SAAqBC,GACnBA,EAAMC,iBACNN,EARgB,Q","sources":["src/js/render-markup.js","src/js/library-page-only/filter.js"],"sourcesContent":["export function renderSearchResult(movies) {\n  console.log(movies);\n  const allMovies = movies.map(\n    ({ poster_path, release_date, original_title, title, genre_ids }, idx) => {\n      let { poster, releaseYear } = checkDataBeforeRender(\n        poster_path,\n        release_date\n      );\n\n      return `<div class=\"main-section__card\" id=\"${idx}\" data-id=\"${idx}\">\n            <img\n              src=\"${poster}\"\n              alt=\"${title || original_title || ''}\"\n              class=\"main-section__image\"\n              loading=\"lazy\"\n            />\n          <p class=\"main-section__name\">\n\t\t\t\t\t${title || original_title || ''} <br />\n\t\t\t\t\t<span class=\"main-section__description\">${findGenres(genre_ids) || 'No Genre'}\n\t\t\t\t\t| ${releaseYear}</span>\n\t\t\t\t</p>\n        </div>`;\n    }\n  );\n  return allMovies;\n}\n\nfunction checkDataBeforeRender(poster_path, releaseDate) {\n  let poster = `https://image.tmdb.org/t/p/w500${poster_path}`;\n  let releaseYear;\n\n  if (!poster_path) {\n    poster = `https://media.istockphoto.com/id/1193046540/vector/photo-coming-soon-image-icon-vector-illustration-isolated-on-white-background-no-website.jpg?s=612x612&w=0&k=20&c=4wx1UzigP0g9vJv9D_DmOxdAT_DtX5peZdoS4hi2Fqg=`;\n  }\n  if (!releaseDate) {\n    releaseYear = 'No release year';\n  } else {\n    releaseYear = parseInt(releaseDate);\n  }\n  return { poster, releaseYear };\n}\n\nfunction findGenres(ids) {\n  const genres = JSON.parse(localStorage.getItem('allGenres'));\n  let res = [];\n  for (const item of ids) {\n    let h = genres.find(genre => genre.id === Number(item));\n    res.push(h.name);\n  }\n  const formattedGenres =\n    res.length > 2 ? `${res[0]}, ${res[1]}, Other` : res.join(', ');\n  return formattedGenres;\n}\n","const watchedButRef = document.querySelector('.watchedJS');\nconst queuedButRef = document.querySelector('.queueJS');\n\nconst cardsRenderDivRef = document.querySelector('.main-section__allcards');\nimport { renderSearchResult } from '../render-markup';\n\nconst DATA_KEY1 = 'watched';\nconst DATA_KEY2 = 'queue';\n\nfunction renderWatched(event) {\n  event.preventDefault();\n  renderData(DATA_KEY1);\n}\nfunction renderQueue(event) {\n  event.preventDefault();\n  renderData(DATA_KEY2);\n}\n\nfunction renderData(DATA_KEY) {\n  let dataToRender = JSON.parse(localStorage.getItem(DATA_KEY));\n  const markup = renderSearchResult(dataToRender);\n  cardsRenderDivRef.innerHTML = markup.join('');\n}\n\nwatchedButRef.addEventListener('click', renderWatched);\nqueuedButRef.addEventListener('click', renderQueue);\n"],"names":["$5c67f65620e892f5$export$3e23689f3f9b8139","movies","console","log","map","param","idx","poster_path","release_date","original_title","title","genre_ids","ref","releaseDate","releaseYear","poster","concat","parseInt","$5c67f65620e892f5$var$checkDataBeforeRender","ids","genres","JSON","parse","localStorage","getItem","res","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step1","item","_step","value","h","find","genre","id","Number","push","name","_iterator","Symbol","iterator","next","done","_loop","err","return","length","join","$5c67f65620e892f5$var$findGenres","$ac6ae25c154de267$var$watchedButRef","document","querySelector","$ac6ae25c154de267$var$queuedButRef","$ac6ae25c154de267$var$cardsRenderDivRef","$ac6ae25c154de267$var$renderData","DATA_KEY","markup","innerHTML","addEventListener","event","preventDefault"],"version":3,"file":"library.5e14211b.js.map"}