!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},t.parcelRequired7c6=i),i("4Nugj");var c=i("iU1Pc"),o=i("7VSht"),d=document.querySelector(".watchedJS"),r=document.querySelector(".queueJS"),s=document.querySelector(".main-section__allcards"),l="watched",u="queue";function v(){s.innerHTML="",d.classList.add("active"),r.classList.remove("active"),localStorage.getItem(l)?f(l):e(c).Notify.warning("No movies added!")}function m(){s.innerHTML="",r.classList.add("active"),d.classList.remove("active"),localStorage.getItem(u)?f(u):e(c).Notify.warning("No movies added!")}function f(t){var n=JSON.parse(localStorage.getItem(t));if(n){var a=(0,o.renderSearchResult)(n);s.innerHTML=a.join(""),document.querySelectorAll(".main-section__card").forEach((function(e){"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",'<span class="rating-span">'.concat(Math.round(10*e.dataset.rating)/10,"<span>"))}))}else e(c).Notify.warning("No movies added!")}f(l),d.classList.remove("inactive"),d.classList.add("active"),d.addEventListener("click",v),r.addEventListener("click",m);var g=i("cDXQO"),_=i("4Nugj"),L=(c=i("iU1Pc"),_.refs.allCardsSection),h=_.refs.modal,p=_.refs.overflow,E=_.refs.closeBtn,w=_.refs.innerModal,b=_.refs.watchedBtn,S=_.refs.queueBtn,y=_.refs.cursor,k=_.refs.body,q=localStorage.getItem("queue"),N=localStorage.getItem("watched"),T=JSON.parse(q)||[],O=JSON.parse(N)||[],x=J("watched"),I=!1;function J(e){var t=localStorage.getItem(e);return JSON.parse(t)}function M(t){t.target.innerText="remove from watched";var n=x[t.target.dataset.id];O.push(n),localStorage.setItem("watched",JSON.stringify(O)),t.target.addEventListener("click",j),t.target.removeEventListener("click",M),I=!0,e(c).Notify.success("Added to watched!")}function j(t){t.target.innerText="add to watched";var n=x[t.target.dataset.id];O=O.filter((function(e){return e.id!==n.id})),localStorage.setItem("watched",JSON.stringify(O)),t.target.removeEventListener("click",j),t.target.addEventListener("click",M),I=!0,e(c).Notify.success("Removed from watched!")}function H(t){t.target.innerText="remove from queue";var n=x[t.target.dataset.id];T.push(n),localStorage.setItem("queue",JSON.stringify(T)),t.target.addEventListener("click",R),t.target.removeEventListener("click",H),I=!0,e(c).Notify.success("Added to queue!")}function R(t){t.target.innerText="add to queue";var n=x[t.target.dataset.id];T=T.filter((function(e){return e.id!==n.id})),localStorage.setItem("queue",JSON.stringify(T)),t.target.removeEventListener("click",R),t.target.addEventListener("click",H),I=!0,e(c).Notify.success("Removed from queue!")}function A(e){e.currentTarget!==e.target&&(h.classList.remove("hidden-modal"),p.classList.remove("hidden-modal"),L.removeEventListener("click",A),document.addEventListener("keydown",B),E.addEventListener("click",C),p.addEventListener("click",U),function(e){var t=x[e],n=t.poster_path,a=t.original_title,i=t.title,c=t.genre_ids,o=t.vote_average,d=t.vote_count,r=t.popularity,s=t.overview,l=t.id,u=JSON.parse(localStorage.getItem("allGenres")),v=[];c.forEach((function(e){v.push(u.find((function(t){return t.id===e})).name)}));var m=O.find((function(e){return e.id===l})),f=!!T.find((function(e){return e.id===l})),_=!!m,L='<button class="modal__btn-queue interactive-button" data-id='.concat(e,f?">remove from queue</button>":">add to queue</button>"),h='<button class="modal__btn-watched interactive-button" data-id='.concat(e,_?">\n        remove from Watched\n      </button>":">\n        add to Watched\n      </button>"),p=d&&o?'<li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">'.concat(o.toFixed(1),'</span> /\n            <span class="modal__item-bg modal__item--grey">').concat(d,"</span>\n          </div>\n        </li>"):"",b=r?'<li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>'.concat(r,"</div>\n        </li>"):"",S=v.length?'<li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>'.concat(v.join(", "),"</div>\n        </li>"):"",k=a?'<li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">'.concat(a,"</div>\n        </li>"):"",q=s?'<div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          '.concat(s,"\n        </p>\n      </div>"):"",N=n?'<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500'.concat(n,'" alt="').concat(i,'" />\n    </div>'):"",I="".concat(N,'\n    <div class="modal__about">\n      <div class="modal__headline">').concat(i,'</div>\n      <ul class="modal__list">\n        ').concat(p,"\n        ").concat(b,"\n        ").concat(k,"\n        ").concat(S,"\n      </ul> \n      ").concat(q,'\n          <div class="modal__buttons">\n      ').concat(h,"\n      ").concat(L,"\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=").concat(l,">watch trailer</button>\n    </div>\n    </div>\n    ");w.innerHTML=I,function(e,t){var n=document.querySelector(".modal__btn-watched"),a=document.querySelector(".modal__btn-queue"),i=document.querySelector(".modal_btn-watch-trailer");e?a.addEventListener("click",R):a.addEventListener("click",H),t?n.addEventListener("click",j):n.addEventListener("click",M),i.addEventListener("click",g.watchTrailer),[i,a,i,E].forEach((function(e){e.addEventListener("mouseover",(function(){y.classList.add("hover")})),e.addEventListener("mouseleave",(function(){y.classList.remove("hover")}))}))}(f,_)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id),k.classList.add("no-scroll"))}function U(e){e.currentTarget===e.target&&C()}function B(e){"Escape"===e.code&&C()}function C(){h.classList.add("hidden-modal"),p.classList.add("hidden-modal"),L.addEventListener("click",A),document.removeEventListener("keydown",C),E.removeEventListener("click",C),p.removeEventListener("click",U),S.classList.contains("active")&&I?m():I&&v(),I=!1,k.classList.remove("no-scroll")}b.addEventListener("click",(function(){x=J("watched")})),S.addEventListener("click",(function(){x=J("queue")})),L.addEventListener("click",A),i("jjs5m"),i("c1cRw"),i("4F07H")}();
//# sourceMappingURL=library.8b6dac9f.js.map
