function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("krGWQ");var d=i("eWCmQ"),l=i("5o68A");const s=document.querySelector(".watchedJS"),o=document.querySelector(".queueJS"),r=document.querySelector(".main-section__allcards");function c(t){let a=JSON.parse(localStorage.getItem(t));if(!a)return void e(d).Notify.warning("No movies added!");const n=(0,l.renderSearchResult)(a);r.innerHTML=n.join("");document.querySelectorAll(".main-section__card").forEach((e=>{"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",`<span class="rating-span">${Math.round(10*e.dataset.rating)/10}<span>`)}))}c("watched"),s.classList.remove("inactive"),s.classList.add("active"),s.addEventListener("click",(function(t){t.preventDefault(),r.innerHTML="",t.target.classList.add("active"),o.classList.remove("active"),localStorage.getItem("watched")?c("watched"):e(d).Notify.warning("No movies added!")})),o.addEventListener("click",(function(t){t.preventDefault(),r.innerHTML="",t.target.classList.add("active"),s.classList.remove("active"),localStorage.getItem("queue")?c("queue"):e(d).Notify.warning("No movies added!")}));var u=i("37v9V"),m=i("krGWQ");const{allCardsSection:v,modal:_,overflow:g,closeBtn:f,innerModal:p,watchedBtn:h,queueBtn:L}=m.refs,w=localStorage.getItem("queue"),b=localStorage.getItem("watched"),y=JSON.parse(w)||[],S=JSON.parse(b)||[];let E=q("watched");function q(e){const t=localStorage.getItem(e);return JSON.parse(t)}function k(e){e.target.classList.add("active");const t=E[e.target.dataset.id];S.find((e=>e.id===t.id))?alert("Film already in the watched list!"):(S.push(t),localStorage.setItem("watched",JSON.stringify(S)))}function N(e){e.target.classList.add("active");const t=E[e.target.dataset.id];y.find((e=>e.id===t.id))?alert("Film already in the queue!"):(y.push(t),localStorage.setItem("queue",JSON.stringify(y)))}function $(e){if(e.currentTarget!==e.target){_.classList.remove("visually-hidden"),g.classList.remove("visually-hidden"),v.removeEventListener("click",$),document.addEventListener("keydown",O),f.addEventListener("click",I),g.addEventListener("click",T);!function(e){const{poster_path:t,original_title:a,title:n,genre_ids:i,vote_average:d,vote_count:l,popularity:s,overview:o,id:r}=E[e],c=JSON.parse(localStorage.getItem("allGenres")),m=[];i.forEach((e=>{m.push(c.find((t=>t.id===e)).name)}));const v=`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${n}" />\n    </div>\n    <div class="modal__about">\n      <div class="modal__headline">${n}</div>\n      <ul class="modal__list">\n        <li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${d.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${l}</span>\n          </div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${s}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${a}</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${m.join(", ")}</div>\n        </li>\n      </ul> \n      <div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${o}\n        </p>\n      </div>\n          <div class="modal__buttons">\n      <button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>\n      <button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=${r}>watch trailer</button>\n    </div>\n    </div>\n\n    `;p.innerHTML=v;const _=document.querySelector(".modal__btn-watched"),g=document.querySelector(".modal__btn-queue"),f=document.querySelector(".modal_btn-watch-trailer");g.addEventListener("click",N),_.addEventListener("click",k),f.addEventListener("click",u.watchTrailer)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id)}}function T(e){e.currentTarget===e.target&&I()}function O(e){"Escape"===e.code&&I()}function I(){_.classList.add("visually-hidden"),g.classList.add("visually-hidden"),v.addEventListener("click",$),document.removeEventListener("keydown",I),f.removeEventListener("click",I),g.removeEventListener("click",T)}h.addEventListener("click",(()=>{E=q("watched")})),L.addEventListener("click",(()=>{E=q("queue")})),v.addEventListener("click",$);
//# sourceMappingURL=library.8fc4d1c9.js.map
