{"mappings":"qhBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,aAEA,MAAME,EAAgBC,SAASC,cAAc,cACvCC,EAAeF,SAASC,cAAc,YAEtCE,EAAoBH,SAASC,cAAc,2BAkCjD,SAASG,EAAWC,GAClB,IAAIC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQL,IACnD,IAAKC,EAEH,YADAK,EAAAb,GAASc,OAAOC,QAAQ,oBAG1B,MAAMC,GAAS,EAAAC,EAAAC,oBAAmBV,GAClCH,EAAkBc,UAAYH,EAAOI,KAAK,IAE5BlB,SAASmB,iBAAiB,uBAClCC,SAAQC,IACa,MAArBA,EAAEC,QAAQC,QACZF,EAAEG,iBAAiBC,mBACjB,YACA,6BACEC,KAAKC,MAAyB,GAAnBN,EAAEC,QAAQC,QAAe,WAEvC,G,CAMLnB,EAtDgB,WAuDhBL,EAAc6B,UAAUC,OAAO,YAC/B9B,EAAc6B,UAAUE,IAAI,UAK9B/B,EAAcgC,iBAAiB,SA1D/B,SAAuBC,GACrBA,EAAMC,iBAEN9B,EAAkBc,UAAY,GAC9Be,EAAME,OAAON,UAAUE,IAAI,UAC3B5B,EAAa0B,UAAUC,OAAO,UAEzBpB,aAAaC,QAVF,WAchBN,EAdgB,WAWdO,EAAAb,GAASc,OAAOC,QAAQ,mB,IAmD5BX,EAAa6B,iBAAiB,SA7C9B,SAAqBC,GACnBA,EAAMC,iBACN9B,EAAkBc,UAAY,GAC9Be,EAAME,OAAON,UAAUE,IAAI,UAC3B/B,EAAc6B,UAAUC,OAAO,UAE1BpB,aAAaC,QAtBF,SA2BhBN,EA3BgB,SAuBdO,EAAAb,GAASc,OAAOC,QAAQ,mB","sources":["src/library.js","src/js/library-page-only/filter.js"],"sourcesContent":["import './js/refs';\nimport './js/library-page-only/filter';\n","import Notiflix from 'notiflix';\n\nconst watchedButRef = document.querySelector('.watchedJS');\nconst queuedButRef = document.querySelector('.queueJS');\n\nconst cardsRenderDivRef = document.querySelector('.main-section__allcards');\nimport { renderSearchResult } from '../render-markup';\n\nconst DATA_KEY1 = 'watched';\nconst DATA_KEY2 = 'queue';\n\nfunction renderWatched(event) {\n  event.preventDefault();\n\n  cardsRenderDivRef.innerHTML = '';\n  event.target.classList.add('active');\n  queuedButRef.classList.remove('active');\n\n  if (!localStorage.getItem(DATA_KEY1)) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n  renderData(DATA_KEY1);\n}\n\nfunction renderQueue(event) {\n  event.preventDefault();\n  cardsRenderDivRef.innerHTML = '';\n  event.target.classList.add('active');\n  watchedButRef.classList.remove('active');\n\n  if (!localStorage.getItem(DATA_KEY2)) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n\n  renderData(DATA_KEY2);\n}\n\nfunction renderData(DATA_KEY) {\n  let dataToRender = JSON.parse(localStorage.getItem(DATA_KEY));\n  if (!dataToRender) {\n    Notiflix.Notify.warning('No movies added!');\n    return;\n  }\n  const markup = renderSearchResult(dataToRender);\n  cardsRenderDivRef.innerHTML = markup.join('');\n\n  const cards = document.querySelectorAll('.main-section__card');\n  cards.forEach(e => {\n    if (e.dataset.rating !== '0') {\n      e.lastElementChild.insertAdjacentHTML(\n        'beforeend',\n        `<span class=\"rating-span\">${\n          Math.round(e.dataset.rating * 10) / 10\n        }<span>`\n      );\n    }\n  });\n}\n\nfunction renderDataDefault() {\n  renderData(DATA_KEY1);\n  watchedButRef.classList.remove('inactive');\n  watchedButRef.classList.add('active');\n}\n\nrenderDataDefault();\n\nwatchedButRef.addEventListener('click', renderWatched);\nqueuedButRef.addEventListener('click', renderQueue);\n"],"names":["parcelRequire","$eWCmQ","$5dc6e7081f81b110$var$watchedButRef","document","querySelector","$5dc6e7081f81b110$var$queuedButRef","$5dc6e7081f81b110$var$cardsRenderDivRef","$5dc6e7081f81b110$var$renderData","DATA_KEY","dataToRender","JSON","parse","localStorage","getItem","$parcel$interopDefault","Notify","warning","markup","$5o68A","renderSearchResult","innerHTML","join","querySelectorAll","forEach","e","dataset","rating","lastElementChild","insertAdjacentHTML","Math","round","classList","remove","add","addEventListener","event","preventDefault","target"],"version":3,"file":"library.d646d918.js.map"}