!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("4Nugj");var d=i("iU1Pc"),c=i("7VSht"),l=document.querySelector(".watchedJS"),o=document.querySelector(".queueJS"),r=document.querySelector(".main-section__allcards"),s="watched",u="queue";function v(t){var a=JSON.parse(localStorage.getItem(t));if(a){var n=(0,c.renderSearchResult)(a);r.innerHTML=n.join(""),document.querySelectorAll(".main-section__card").forEach((function(e){"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",'<span class="rating-span">'.concat(Math.round(10*e.dataset.rating)/10,"<span>"))}))}else e(d).Notify.warning("No movies added!")}v(s),l.classList.remove("inactive"),l.classList.add("active"),l.addEventListener("click",(function(t){t.preventDefault(),r.innerHTML="",t.target.classList.add("active"),o.classList.remove("active"),localStorage.getItem(s)?v(s):e(d).Notify.warning("No movies added!")})),o.addEventListener("click",(function(t){t.preventDefault(),r.innerHTML="",t.target.classList.add("active"),l.classList.remove("active"),localStorage.getItem(u)?v(u):e(d).Notify.warning("No movies added!")}));var m=i("cDXQO"),_=i("4Nugj"),f=_.refs.allCardsSection,g=_.refs.modal,p=_.refs.overflow,h=_.refs.closeBtn,L=_.refs.innerModal,b=_.refs.watchedBtn,w=_.refs.queueBtn,S=localStorage.getItem("queue"),y=localStorage.getItem("watched"),E=JSON.parse(S)||[],q=JSON.parse(y)||[],N=k("watched");function k(e){var t=localStorage.getItem(e);return JSON.parse(t)}function O(e){e.target.classList.add("active");var t=N[e.target.dataset.id];q.find((function(e){return e.id===t.id}))?alert("Film already in the watched list!"):(q.push(t),localStorage.setItem("watched",JSON.stringify(q)))}function T(e){e.target.classList.add("active");var t=N[e.target.dataset.id];E.find((function(e){return e.id===t.id}))?alert("Film already in the queue!"):(E.push(t),localStorage.setItem("queue",JSON.stringify(E)))}function I(e){e.currentTarget!==e.target&&(g.classList.remove("visually-hidden"),p.classList.remove("visually-hidden"),f.removeEventListener("click",I),document.addEventListener("keydown",M),h.addEventListener("click",x),p.addEventListener("click",J),function(e){var t=N[e],a=t.poster_path,n=t.original_title,i=t.title,d=t.genre_ids,c=t.vote_average,l=t.vote_count,o=t.popularity,r=t.overview,s=t.id,u=JSON.parse(localStorage.getItem("allGenres")),v=[];d.forEach((function(e){v.push(u.find((function(t){return t.id===e})).name)}));var _='<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500'.concat(a,'" alt="').concat(i,'" />\n    </div>\n    <div class="modal__about">\n      <div class="modal__headline">').concat(i,'</div>\n      <ul class="modal__list">\n        <li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">').concat(c.toFixed(1),'</span> /\n            <span class="modal__item-bg modal__item--grey">').concat(l,'</span>\n          </div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>').concat(o,'</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">').concat(n,'</div>\n        </li>\n        <li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>').concat(v.join(", "),'</div>\n        </li>\n      </ul> \n      <div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ').concat(r,'\n        </p>\n      </div>\n          <div class="modal__buttons">\n      <button class="modal__btn-watched interactive-button" data-id=').concat(e,'>\n        add to Watched\n      </button>\n      <button class="modal__btn-queue interactive-button" data-id=').concat(e,">add to queue</button>\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=").concat(s,">watch trailer</button>\n    </div>\n    </div>\n\n    ");L.innerHTML=_;var f=document.querySelector(".modal__btn-watched"),g=document.querySelector(".modal__btn-queue"),p=document.querySelector(".modal_btn-watch-trailer");g.addEventListener("click",T),f.addEventListener("click",O),p.addEventListener("click",m.watchTrailer)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id))}function J(e){e.currentTarget===e.target&&x()}function M(e){"Escape"===e.code&&x()}function x(){g.classList.add("visually-hidden"),p.classList.add("visually-hidden"),f.addEventListener("click",I),document.removeEventListener("keydown",x),h.removeEventListener("click",x),p.removeEventListener("click",J)}b.addEventListener("click",(function(){N=k("watched")})),w.addEventListener("click",(function(){N=k("queue")})),f.addEventListener("click",I)}();
//# sourceMappingURL=library.d6c358b4.js.map
