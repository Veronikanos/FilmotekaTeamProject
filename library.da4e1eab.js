!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequired7c6;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequired7c6=r),r("4Nugj"),r("cdAE4");var i=r("iU1Pc"),c=r("7VSht"),d=document.querySelector(".watchedJS"),o=document.querySelector(".queueJS"),s=document.querySelector(".main-section__allcards"),l="watched",u="queue";function v(){s.innerHTML="Its empty here, add movies you've already watched.",d.classList.add("active"),o.classList.remove("active"),localStorage.getItem(l)?m(l):e(i).Notify.warning("No movies added!")}function f(){s.innerHTML="It's empty here, add the movies you want to watch.",o.classList.add("active"),d.classList.remove("active"),localStorage.getItem(u)?m(u):e(i).Notify.warning("No movies added!")}function m(t){var n=JSON.parse(localStorage.getItem(t));if(n){var a=(0,c.renderSearchResult)(n);s.innerHTML=a.join(""),document.querySelectorAll(".main-section__card").forEach((function(e){"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",'<span class="rating-span">'.concat(Math.round(10*e.dataset.rating)/10,"</span>"))}))}else e(i).Notify.warning("No movies added!")}m(l),d.classList.remove("inactive"),d.classList.add("active"),d.addEventListener("click",v),o.addEventListener("click",f);var g=r("cDXQO"),L=r("4Nugj"),h=(i=r("iU1Pc"),r("lEOFC")),w=L.refs.allCardsSection,E=L.refs.modal,y=L.refs.overflow,p=L.refs.closeBtn,S=L.refs.innerModal,k=L.refs.watchedBtn,N=L.refs.queueBtn,q=L.refs.cursor,T=L.refs.body,I=localStorage.getItem("queue"),_=localStorage.getItem("watched"),O=JSON.parse(I)||[],x=JSON.parse(_)||[],J=b("watched"),M=!1;function b(e){var t=localStorage.getItem(e);return JSON.parse(t)}function j(t){t.target.innerText="remove from watched";var n=J[t.target.dataset.id];x.push(n),localStorage.setItem("watched",JSON.stringify(x)),t.target.addEventListener("click",H),t.target.removeEventListener("click",j),M=!0,e(i).Notify.success("Added to watched!")}function H(t){t.target.innerText="add to watched";var n=J[t.target.dataset.id];x=x.filter((function(e){return e.id!==n.id})),localStorage.setItem("watched",JSON.stringify(x)),t.target.removeEventListener("click",H),t.target.addEventListener("click",j),M=!0,e(i).Notify.success("Removed from watched!")}function R(t){t.target.innerText="remove from queue";var n=J[t.target.dataset.id];O.push(n),localStorage.setItem("queue",JSON.stringify(O)),t.target.addEventListener("click",A),t.target.removeEventListener("click",R),M=!0,e(i).Notify.success("Added to queue!")}function A(t){t.target.innerText="add to queue";var n=J[t.target.dataset.id];O=O.filter((function(e){return e.id!==n.id})),localStorage.setItem("queue",JSON.stringify(O)),t.target.removeEventListener("click",A),t.target.addEventListener("click",R),M=!0,e(i).Notify.success("Removed from queue!")}function C(e){if(e.currentTarget!==e.target){E.classList.remove("hidden-modal"),y.classList.remove("hidden-modal"),w.removeEventListener("click",C),document.addEventListener("keydown",U),p.addEventListener("click",B),y.addEventListener("click",D),function(e){J=k.classList.contains("active")?b("watched"):b("queue");var t=(0,h.renderModal)(J,e,x,O);S.innerHTML=t[0],n=t[1],a=t[2],r=document.querySelector(".modal__btn-watched"),i=document.querySelector(".modal__btn-queue"),c=document.querySelector(".modal__btn-watch-trailer"),n?i.addEventListener("click",A):i.addEventListener("click",R),a?r.addEventListener("click",H):r.addEventListener("click",j),c.addEventListener("click",g.watchTrailer),[c,i,c,p].forEach((function(e){e.addEventListener("mouseover",(function(){q.classList.add("hover")})),e.addEventListener("mouseleave",(function(){q.classList.remove("hover")}))}));var n,a,r,i,c}("DIV"===e.target.nodeName?e.target.dataset.id:e.target.closest("div").dataset.id);var t=window.scrollY;T.style.position="fixed",T.style.top="-".concat(t,"px")}}function D(e){e.currentTarget===e.target&&B()}function U(e){"Escape"===e.code&&B()}function B(){E.classList.add("hidden-modal"),y.classList.add("hidden-modal"),w.addEventListener("click",C),document.removeEventListener("keydown",B),p.removeEventListener("click",B),y.removeEventListener("click",D),N.classList.contains("active")&&M?f():M&&v(),M=!1;var e=T.style.top;T.style.position="",T.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}k.addEventListener("click",(function(){J=b("watched")})),N.addEventListener("click",(function(){J=b("queue")})),w.addEventListener("click",C),r("jjs5m"),r("c1cRw"),r("4F07H")}();
//# sourceMappingURL=library.da4e1eab.js.map
