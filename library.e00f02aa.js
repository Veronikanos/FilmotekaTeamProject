function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var d=new Error("Cannot find module '"+e+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i),i("krGWQ");var d=i("eWCmQ"),o=i("5o68A");const s=document.querySelector(".watchedJS"),r=document.querySelector(".queueJS"),c=document.querySelector(".main-section__allcards");function l(){c.innerHTML="",s.classList.add("active"),r.classList.remove("active"),localStorage.getItem("watched")?m("watched"):e(d).Notify.warning("No movies added!")}function u(){c.innerHTML="",r.classList.add("active"),s.classList.remove("active"),localStorage.getItem("queue")?m("queue"):e(d).Notify.warning("No movies added!")}function m(t){let a=JSON.parse(localStorage.getItem(t));if(!a)return void e(d).Notify.warning("No movies added!");const n=(0,o.renderSearchResult)(a);c.innerHTML=n.join("");document.querySelectorAll(".main-section__card").forEach((e=>{"0"!==e.dataset.rating&&e.lastElementChild.insertAdjacentHTML("beforeend",`<span class="rating-span">${Math.round(10*e.dataset.rating)/10}<span>`)}))}m("watched"),s.classList.remove("inactive"),s.classList.add("active"),s.addEventListener("click",l),r.addEventListener("click",u);var v=i("37v9V"),_=i("krGWQ");d=i("eWCmQ");const{allCardsSection:g,modal:f,overflow:L,closeBtn:h,innerModal:p,watchedBtn:b,queueBtn:E,cursor:w,body:S}=_.refs,k=localStorage.getItem("queue"),y=localStorage.getItem("watched");let q=JSON.parse(k)||[],$=JSON.parse(y)||[],N=O("watched"),T=!1;function O(e){const t=localStorage.getItem(e);return JSON.parse(t)}function I(t){t.target.innerText="remove from watched";const a=N[t.target.dataset.id];$.push(a),localStorage.setItem("watched",JSON.stringify($)),t.target.addEventListener("click",x),t.target.removeEventListener("click",I),T=!0,e(d).Notify.success("Added to watched!")}function x(t){t.target.innerText="add to watched";const a=N[t.target.dataset.id];$=$.filter((e=>e.id!==a.id)),localStorage.setItem("watched",JSON.stringify($)),t.target.removeEventListener("click",x),t.target.addEventListener("click",I),T=!0,e(d).Notify.success("Removed from watched!")}function J(t){t.target.innerText="remove from queue";const a=N[t.target.dataset.id];q.push(a),localStorage.setItem("queue",JSON.stringify(q)),t.target.addEventListener("click",M),t.target.removeEventListener("click",J),T=!0,e(d).Notify.success("Added to queue!")}function M(t){t.target.innerText="add to queue";const a=N[t.target.dataset.id];q=q.filter((e=>e.id!==a.id)),localStorage.setItem("queue",JSON.stringify(q)),t.target.removeEventListener("click",M),t.target.addEventListener("click",J),T=!0,e(d).Notify.success("Removed from queue!")}function A(e){if(e.currentTarget!==e.target){f.classList.remove("hidden-modal"),L.classList.remove("hidden-modal"),g.removeEventListener("click",A),document.addEventListener("keydown",W),h.addEventListener("click",C),L.addEventListener("click",H);!function(e){const{poster_path:t,original_title:a,title:n,genre_ids:i,vote_average:d,vote_count:o,popularity:s,overview:r,id:c}=N[e],l=JSON.parse(localStorage.getItem("allGenres")),u=[];i.forEach((e=>{u.push(l.find((t=>t.id===e)).name)}));const m=$.find((e=>e.id===c)),_=!!q.find((e=>e.id===c)),g=!!m,f=_?`<button class="modal__btn-queue interactive-button" data-id=${e}>remove from queue</button>`:`<button class="modal__btn-queue interactive-button" data-id=${e}>add to queue</button>`,L=g?`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        remove from Watched\n      </button>`:`<button class="modal__btn-watched interactive-button" data-id=${e}>\n        add to Watched\n      </button>`,b=o&&d?`<li class="modal__item">\n          <div class="modal__item-first">Vote / Votes</div>\n          <div class="modal__item-votes">\n            <span class="modal__item-bg modal__item--accent">${d.toFixed(1)}</span> /\n            <span class="modal__item-bg modal__item--grey">${o}</span>\n          </div>\n        </li>`:"",E=s?`<li class="modal__item">\n          <div class="modal__item-first">Popularity</div>\n          <div>${s}</div>\n        </li>`:"",S=u.length?`<li class="modal__item">\n          <div class="modal__item-first">Genre</div>\n          <div>${u.join(", ")}</div>\n        </li>`:"",k=`${t?`<div class="modal__img">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${n}" />\n    </div>`:""}\n    <div class="modal__about">\n      <div class="modal__headline">${n}</div>\n      <ul class="modal__list">\n        ${b}\n        ${E}\n        ${a?`<li class="modal__item">\n          <div class="modal__item-first">Original Title</div>\n          <div class="modal__item-title">${a}</div>\n        </li>`:""}\n        ${S}\n      </ul> \n      ${r?`<div class="modal__about-info">\n        <p class="modal__about-headline">About</p>\n        <p class="modal__about-text">\n          ${r}\n        </p>\n      </div>`:""}\n          <div class="modal__buttons">\n      ${L}\n      ${f}\n      <button class='modal_btn-watched interactive-button modal_btn-watch-trailer' data-id=${c}>watch trailer</button>\n    </div>\n    </div>\n    `;p.innerHTML=k,function(e,t){const a=document.querySelector(".modal__btn-watched"),n=document.querySelector(".modal__btn-queue"),i=document.querySelector(".modal_btn-watch-trailer");e?n.addEventListener("click",M):n.addEventListener("click",J),t?a.addEventListener("click",x):a.addEventListener("click",I),i.addEventListener("click",v.watchTrailer),[i,n,i,h].forEach((e=>{e.addEventListener("mouseover",(()=>{w.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{w.classList.remove("hover")}))}))}(_,g)}(e.target.parentElement.dataset.id?e.target.parentElement.dataset.id:e.target.parentElement.parentElement.dataset.id),S.classList.add("no-scroll")}}function H(e){e.currentTarget===e.target&&C()}function W(e){"Escape"===e.code&&C()}function C(){f.classList.add("hidden-modal"),L.classList.add("hidden-modal"),g.addEventListener("click",A),document.removeEventListener("keydown",C),h.removeEventListener("click",C),L.removeEventListener("click",H),E.classList.contains("active")&&T?u():T&&l(),T=!1,S.classList.remove("no-scroll")}b.addEventListener("click",(()=>{N=O("watched")})),E.addEventListener("click",(()=>{N=O("queue")})),g.addEventListener("click",A),i("kBf9a"),i("7tI6e"),i("6HA5D");
//# sourceMappingURL=library.e00f02aa.js.map
